var AssetAdapter=function(){function t(){}var e=(__define,t),i=e.prototype;return i.getAsset=function(t,e,i){function n(n){e.call(i,n,t)}if(RES.hasRes(t)){var s=RES.getRes(t);s?n(s):RES.getResAsync(t,n,this)}else RES.getResByUrl(t,n,this,RES.ResourceItem.TYPE_IMAGE)},t}();egret.registerClass(AssetAdapter,"AssetAdapter",["eui.IAssetAdapter"]);var GameConst=function(){function t(){}var e=(__define,t);e.prototype;return t.gameConfig={server:""},t}();egret.registerClass(GameConst,"GameConst");var GameManager=function(){function t(){this.homeScene=new HomeScene,this.gameScene=new GameScene}var e=(__define,t),i=e.prototype;return i.startup=function(t){GameConst.gameConfig=window.gameConfig,GameConst.stage=t.stage,LayerManager.getInstance().initialize(t),LayerManager.getInstance().runScene(this.homeScene),ClientSocket.getInstance().startConnect()},t.getInstance=function(){return null==this.instance&&(this.instance=new t),this.instance},t}();egret.registerClass(GameManager,"GameManager");var ClientSocket=function(){function t(){}var e=(__define,t),i=e.prototype;return t.getInstance=function(){return null==this.instance&&(this.instance=new t),this.instance},i.isConnected=function(){return this.socket&&this.socket.connected?!0:!1},i.closeSocket=function(){egret.log("主动断开连接"),this.socket.disconnect()},i.startConnect=function(){this.socket=io.connect(GameConst.gameConfig.server,{reconnection:!1,"force new connection":!0});var t=this;this.socket.on("connect",function(){egret.log("connenct succss"),t.sendMessage("login")}),this.socket.on("error",function(t){egret.log("connenct erro")}),this.socket.on("disconnect",function(){egret.log("connenct close")}),this.socket.on("reconnect_attempt",function(){egret.log("reconnect")}),this.socket.on("connect_timeout",function(){}),this.socket.on("xxx",function(t){})},i.sendMessage=function(t,e,i,n){void 0===e&&(e=null),void 0===i&&(i=null),void 0===n&&(n=null),this.socket&&this.socket.connected&&this.socket.emit(t,e,function(t){i&&n&&i.call(n,t)})},t}();egret.registerClass(ClientSocket,"ClientSocket");var GestureDrag=function(){function t(t){this.target=t,this.start()}var e=(__define,t),i=e.prototype;return i.start=function(){this.target.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onTouchBegin,this)},i.stop=function(){this.target.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onTouchBegin,this),GameConst.stage.removeEventListener(egret.TouchEvent.TOUCH_MOVE,this.onTouchMove,this),GameConst.stage.removeEventListener(egret.TouchEvent.TOUCH_END,this.onTouchEnd,this)},i.onTouchBegin=function(t){this.lastX=t.stageX,this.lastY=t.stageY,GameConst.stage.addEventListener(egret.TouchEvent.TOUCH_MOVE,this.onTouchMove,this),GameConst.stage.addEventListener(egret.TouchEvent.TOUCH_END,this.onTouchEnd,this)},i.onTouchMove=function(t){this.target.x+=t.stageX-this.lastX,this.target.y+=t.stageY-this.lastY,this.lastX=t.stageX,this.lastY=t.stageY},i.onTouchEnd=function(t){GameConst.stage.removeEventListener(egret.TouchEvent.TOUCH_MOVE,this.onTouchMove,this),GameConst.stage.removeEventListener(egret.TouchEvent.TOUCH_END,this.onTouchEnd,this)},i.destroy=function(){this.stop(),this.target=null},t}();egret.registerClass(GestureDrag,"GestureDrag");var GesturePinch=function(){function t(t){this.touchIDList=new Array,this.initTouchPos={},this.curTouchPos={},this.target=t,this.start()}var e=(__define,t),i=e.prototype;return i.start=function(){this.target.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onTouchBegin,this),GameConst.stage.addEventListener(egret.TouchEvent.TOUCH_END,this.onTouchEnd,this)},i.stop=function(){this.target.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onTouchBegin,this),GameConst.stage.removeEventListener(egret.TouchEvent.TOUCH_END,this.onTouchEnd,this),this.target.removeEventListener(egret.TouchEvent.TOUCH_MOVE,this.onTouchMove,this)},i.onTouchBegin=function(t){this.touchIDLen=this.touchIDList.length,this.touchIDLen<2&&(this.touchIDList.push(t.touchPointID),this.initTouchPos[t.touchPointID]=new egret.Point(t.stageX,t.stageY),this.curTouchPos[t.touchPointID]=this.initTouchPos[t.touchPointID],this.touchIDLen=this.touchIDList.length),2==this.touchIDLen&&(this.target.addEventListener(egret.TouchEvent.TOUCH_MOVE,this.onTouchMove,this),this.initDist=egret.Point.distance(this.initTouchPos[this.touchIDList[0]],this.initTouchPos[this.touchIDList[1]]),this.startScale=this.target.scaleX,console.log("two fingers"))},i.onTouchMove=function(t){if(this.curPot=this.curTouchPos[t.touchPointID],this.curPot){this.curPot.x=t.stageX,this.curPot.y=t.stageY;var e=egret.Point.distance(this.curTouchPos[this.touchIDList[0]],this.curTouchPos[this.touchIDList[1]]),i=e/this.initDist;this.target.scaleX=i*this.startScale,this.target.scaleY=this.target.scaleX}},i.onTouchEnd=function(t){var e=this.touchIDList.indexOf(t.touchPointID);-1!=e&&this.touchIDList.splice(e,1),this.touchIDList.length<2&&this.target.removeEventListener(egret.TouchEvent.TOUCH_MOVE,this.onTouchMove,this)},i.destroy=function(){this.stop(),this.target=null},t}();egret.registerClass(GesturePinch,"GesturePinch");var LayerManager=function(){function t(){this.tweenTime=500}var e=(__define,t),i=e.prototype;return i.initialize=function(t){this.main=t,this.sceneLayer=new eui.Group,this.sceneLayer.percentWidth=100,this.sceneLayer.percentHeight=100,this.main.addChild(this.sceneLayer),this.popLayer=new eui.Group,this.popLayer.percentWidth=100,this.popLayer.percentHeight=100,this.popLayer.touchEnabled=!1,this.popLayer.touchThrough=!0,this.main.addChild(this.popLayer)},i.runScene=function(t,e){void 0===e&&(e=!1),null!=this.curScene&&this.curScene&&(this.sceneLayer.removeChild(this.curScene),this.curScene.onRemove(),e&&this.curScene.onDestroy()),this.curScene=t,this.sceneLayer.addChild(t),t.inited&&t.onEnable()},t.getInstance=function(){return null==this.instance&&(this.instance=new t),this.instance},t}();egret.registerClass(LayerManager,"LayerManager");var LoadManager=function(){function t(){this.loadComplete=new Object,this.loadError=new Object,this.loadProgress=new Object,this.thisObject=new Object}var e=(__define,t),i=e.prototype;return t.getInstance=function(){return null==this.instance&&(this.instance=new t),this.instance},i.loadGroup=function(t,e,i,n,s){void 0===i&&(i=null),void 0===n&&(n=null),void 0===s&&(s=null),this.loadComplete[t]=i,this.loadError[t]=s,this.loadProgress[t]=n,this.thisObject[t]=e,RES.addEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onResourceLoadComplete,this),RES.addEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,this.onResourceLoadError,this),RES.addEventListener(RES.ResourceEvent.GROUP_PROGRESS,this.onResourceProgress,this),RES.loadGroup(t)},i.onResourceLoadComplete=function(t){var e=t.groupName;RES.removeEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onResourceLoadComplete,this),RES.removeEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,this.onResourceLoadError,this),RES.removeEventListener(RES.ResourceEvent.GROUP_PROGRESS,this.onResourceProgress,this);var i=this.loadComplete[e];null!=i&&i.call(this.thisObject[e],t),this.clearCallBack(e)},i.onResourceLoadError=function(t){console.warn("Group:"+t.groupName+" has failed to load");var e=this.loadError[t.groupName];null!=e&&e.call(this.thisObject[t.groupName],t),this.clearCallBack(t.groupName)},i.onResourceProgress=function(t){var e=this.loadProgress[t.groupName];null!=e&&e.call(this.thisObject[t.groupName],t)},i.clearCallBack=function(t){this.loadComplete[t]=null,this.loadError[t]=null,this.loadProgress[t]=null},t}();egret.registerClass(LoadManager,"LoadManager");var MapManager=function(){function t(){this.rowMax=10,this.colMax=9,this.level=new Array,this.level1=[[0,1,0,0,1,0,0],[0,0,1,0,0,1,0],[0,0,1,0,0,0,0],[0,0,0,0,0,1,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]]}var e=(__define,t);e.prototype;return t.getInstance=function(){return null==this.instance&&(this.instance=new t),this.instance},t}();egret.registerClass(MapManager,"MapManager");var ArcMotion=function(){function t(t,e,i,n,s,r){void 0===s&&(s=1e3),void 0===r&&(r=!1),this.loop=!1,this.delay=1e3,this.target=t,this.p0=new egret.Point(e[0],e[1]),this.p1=new egret.Point(i[0],i[1]),this.p2=new egret.Point(n[0],n[1]),this.loop=r,this.delay=s}var e=__define,i=t,n=i.prototype;return n.play=function(){this.factor=0,egret.Tween.get(this,{loop:this.loop}).to({factor:1},this.delay)},n.stop=function(){egret.Tween.removeTweens(this)},e(n,"factor",function(){return 0},function(t){this.target.x=(1-t)*(1-t)*this.p0.x+2*t*(1-t)*this.p1.x+t*t*this.p2.x,this.target.y=(1-t)*(1-t)*this.p0.y+2*t*(1-t)*this.p1.y+t*t*this.p2.y}),n.destroy=function(){this.stop(),this.target=null},t}();egret.registerClass(ArcMotion,"ArcMotion");var CircleMotion=function(){function t(t,e,i){void 0===i&&(i=1e3/60),this.vr=.05,this.target=t,this.cos=Math.cos(this.vr),this.sin=Math.sin(this.vr),this.centerX=e[0],this.centerY=e[1],this.timer=new egret.Timer(i)}var e=(__define,t),i=e.prototype;return i.play=function(){this.timer.addEventListener(egret.TimerEvent.TIMER,this.onTimerHandler,this),this.timer.reset(),this.timer.start()},i.stop=function(){this.timer.stop(),this.timer.removeEventListener(egret.TimerEvent.TIMER,this.onTimerHandler,this)},i.onTimerHandler=function(){var t=this.target.x-this.centerX,e=this.target.y-this.centerY,i=this.cos*t-this.sin*e,n=this.cos*e+this.sin*t;this.target.x=this.centerX+i,this.target.y=this.centerY+n},i.destroy=function(){},t}();egret.registerClass(CircleMotion,"CircleMotion");var BaseScene=function(t){function e(e){t.call(this),this.inited=!1,this.percentWidth=100,this.percentHeight=100,this.touchEnabled=!1,this.addEventListener(eui.UIEvent.CREATION_COMPLETE,this.componentCreated,this),this.skinName=e}__extends(e,t);var i=(__define,e),n=i.prototype;return n.componentCreated=function(){this.removeEventListener(eui.UIEvent.CREATION_COMPLETE,this.componentCreated,this),this.inited=!0},n.onEnable=function(){},n.onRemove=function(){},n.onDestroy=function(){},e}(eui.Component);egret.registerClass(BaseScene,"BaseScene");var BaseUI=function(t){function e(e){t.call(this),this.inited=!1,this.addEventListener(eui.UIEvent.CREATION_COMPLETE,this.componentCreated,this),this.skinName=e}__extends(e,t);var i=(__define,e),n=i.prototype;return n.componentCreated=function(){this.removeEventListener(eui.UIEvent.CREATION_COMPLETE,this.componentCreated,this),this.inited=!0},e}(eui.Component);egret.registerClass(BaseUI,"BaseUI");var ArrayTool=function(){function t(){}var e=(__define,t);e.prototype;return t.randomArr=function(t){for(var e,i,n,s=t.length;s;)i=s-1,n=Math.floor(Math.random()*s),s--,i!=n&&(e=t[i],t[i]=t[n],t[n]=e)},t.random2DArr=function(e){for(var i=[],n=e.length,s=e[0].length,r=0;n>r;r++)for(var o=0;s>o;o++)i.push(e[r][o]);t.randomArr(i);for(var r=0;n>r;r++)for(var o=0;s>o;o++)e[r][o]=i[r*s+o]},t.copy2DArr=function(t){for(var e=new Array,i=t.length,n=t[0].length,s=0;i>s;s++){var r=new Array;e.push(r);for(var o=0;n>o;o++)r.push(t[s][o])}return e},t.getObjectLen=function(t){var e=0;for(var i in t)e++;return e},t}();egret.registerClass(ArrayTool,"ArrayTool");var CImageLoader=function(){function t(){this.loader=new egret.ImageLoader,this.width=0,this.height=0}var e=(__define,t),i=e.prototype;return i.load=function(t,e,i,n){this.doc=n,this.width=e,this.height=i,this.loader.addEventListener(egret.Event.COMPLETE,this.loadCompleteHandler,this),this.loader.addEventListener(egret.IOErrorEvent.IO_ERROR,this.onLoadError,this),this.loader.load(t)},i.loadCompleteHandler=function(t){var e=t.currentTarget,i=new egret.Bitmap(e.data);i.width=this.width,i.height=this.height,this.doc.addChild(i)},i.onLoadError=function(){alert("加载头像错误")},i.clear=function(){this.doc&&this.doc.numChildren>0&&this.doc.removeChildAt(0)},t}();egret.registerClass(CImageLoader,"CImageLoader");var DateTimer=function(t){function e(e,i){void 0===i&&(i=0),t.call(this),this.delay=e,this.repeatCount=i}__extends(e,t);var i=(__define,e),n=i.prototype;return n.start=function(){this.$previous=egret.getTimer(),this.$accTime=0,egret.startTick(this.update,this)},n.reset=function(){this.$previous=egret.getTimer(),this.$accTime=0,this.currentCount=0},n.stop=function(){egret.stopTick(this.update,this)},n.update=function(){for(this.$curTime=egret.getTimer(),this.$passTime=this.$curTime-this.$previous,this.$previous=this.$curTime,this.$accTime+=this.$passTime;this.$accTime>=this.delay;)this.$accTime-=this.delay,this.currentCount++,this.repeatCount>0&&this.currentCount==this.repeatCount&&(this.dispatchEvent(new egret.TimerEvent(egret.TimerEvent.TIMER_COMPLETE)),this.stop()),this.dispatchEvent(new egret.TimerEvent(egret.TimerEvent.TIMER));return!1},e}(egret.EventDispatcher);egret.registerClass(DateTimer,"DateTimer");var HttpUtil=function(){function t(){this.httpMethod=egret.HttpMethod.GET,this.request=new egret.HttpRequest,this.request.responseType=egret.HttpResponseType.TEXT,this.request.addEventListener(egret.Event.COMPLETE,this.onPostComplete,this),this.request.addEventListener(egret.IOErrorEvent.IO_ERROR,this.onPostIOError,this)}var e=(__define,t),i=e.prototype;return i.send=function(t,e,i){this.thisObject=i,this.request.open(t,this.httpMethod),this.request.setRequestHeader("Content-type","application/x-www-form-urlencoded"),""!=e?this.request.send(e):this.request.send()},i.onPostComplete=function(t){this.completeHandler&&this.completeHandler.call(this.thisObject,this.request.response)},i.onPostIOError=function(t){egret.log("http error"),this.errorHandler&&this.errorHandler.call(this.thisObject,t)},t}();egret.registerClass(HttpUtil,"HttpUtil");var NumberTool=function(){function t(){}var e=(__define,t);e.prototype;return t.getRandomInt=function(t,e){return Math.round(Math.random()*(e-t))+t},t.getVerificationCode=function(e){for(var i="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",n=i.length,s="",r=0;e>r;r++)s+=i.charAt(t.getRandomInt(0,n));return s},t}();egret.registerClass(NumberTool,"NumberTool");var ObjectPool=function(){function t(t){this.className=t,this.list=[]}var e=(__define,t),i=e.prototype;return i.getObject=function(){if(this.list.length>0)return this.list.shift();var t=egret.getDefinitionByName(this.className);return new t},i.returnObject=function(t){this.list.push(t)},t.getPool=function(e,i){if(void 0===i&&(i=0),!t.pool[e]&&(t.pool[e]=new t(e),0!=i))for(var n=egret.getDefinitionByName(e),s=t.pool[e],r=0;i>r;r++)s.returnObject(new n);return t.pool[e]},t.pool={},t}();egret.registerClass(ObjectPool,"ObjectPool");var QRCode=function(){function t(){this.width=0,this.height=0}var e=(__define,t),i=e.prototype;return i.createCode=function(t){if(null==this.myImg){var e=document.getElementById("gameDiv");this.myImg=document.createElement("img"),this.myImg.src=t,this.myImg.style.position="absolute",this.myImg.style.display="none",e.appendChild(this.myImg)}},i.showCode=function(){this.myImg&&(egret.log("show"),this.myImg.style.display="inline")},i.hideCode=function(){this.myImg&&(this.myImg.style.display="none")},i.setPosition=function(t,e){if(this.myImg){egret.log("setPos");var i,n=document.body.clientWidth,s=document.body.clientHeight,r=(GameConst.stage.stageWidth,GameConst.stage.stageHeight);n>s?(i=n/r,this.myImg.style.width=150*i+"px",this.myImg.style.height=150*i*248/215+"px",this.myImg.style.right=i*e+"px",this.myImg.style.top=i*t+"px"):(i=s/r,this.myImg.style.width=150*i+"px",this.myImg.style.height=150*i*248/215+"px",this.myImg.style.top=e*i+"px",this.myImg.style.left=t*i+"px")}},t}();egret.registerClass(QRCode,"QRCode");var QRCodeLoader=function(t){function e(){t.apply(this,arguments),this.logoUrl=""}__extends(e,t);var i=(__define,e),n=i.prototype;return n.load=function(t,e,i,n){void 0===n&&(n=""),this.qrcodeWidth=e,this.qrcodeHeight=i,this.logoUrl=n;var s=new egret.ImageLoader;s.addEventListener(egret.Event.COMPLETE,this.onQRCodeComplete,this),s.addEventListener(egret.IOErrorEvent.IO_ERROR,this.onQRCodeError,this),s.load(t)},n.onQRCodeError=function(){console.log("加载二维码错误")},n.onQRCodeComplete=function(t){var e=t.currentTarget,i=new egret.Bitmap(e.data);if(i.width=this.qrcodeWidth,i.height=this.qrcodeHeight,this.addChild(i),""!=this.logoUrl){var e=new egret.ImageLoader;e.addEventListener(egret.Event.COMPLETE,this.onlogoComplete,this),e.load(this.logoUrl)}},n.onlogoComplete=function(t){var e=t.currentTarget,i=new egret.Bitmap(e.data);i.width=this.qrcodeWidth/4,i.height=this.qrcodeHeight/4,i.x=(this.qrcodeWidth-i.width)/2,i.y=(this.qrcodeHeight-i.height)/2,this.addChild(i)},n.destroy=function(){for(var t=this.numChildren,e=t-1;e>=0;e--){var i=this.getChildAt(e);i.parent&&i.parent.removeChild(i)}},e}(egret.DisplayObjectContainer);egret.registerClass(QRCodeLoader,"QRCodeLoader");var ShakeTool=function(){function t(){this.count=0,this.timer=new egret.Timer(1e3)}var e=(__define,t),i=e.prototype;return i.shakeObj=function(t,e,i,n){this.target=t,this.initX=t.x,this.initY=t.y,this.maxDis=n,this.count=e*i,this.rate=i,this.timer.delay=1e3/i,this.timer.repeatCount=this.count,this.timer.addEventListener(egret.TimerEvent.TIMER,this.shaking,this),this.timer.addEventListener(egret.TimerEvent.TIMER_COMPLETE,this.shakeComplete,this),this.timer.reset(),this.timer.start()},i.shaking=function(){egret.Tween.removeTweens(this),this.target.x=this.initX-this.maxDis+Math.random()*this.maxDis*2,this.target.y=this.initY-this.maxDis+Math.random()*this.maxDis*2,egret.Tween.get(this.target).to({x:this.initX,y:this.initY},999/this.rate)},i.shakeComplete=function(){egret.Tween.removeTweens(this),this.target.x=this.initX,this.target.y=this.initY,this.timer.removeEventListener(egret.TimerEvent.TIMER,this.shaking,this),this.timer.removeEventListener(egret.TimerEvent.TIMER_COMPLETE,this.shakeComplete,this)},t}();egret.registerClass(ShakeTool,"ShakeTool");var StringTool=function(){function t(){}var e=(__define,t);e.prototype;return t.getTimeString=function(t){var e="";return e=10>t?"0"+t:t.toString()},t.checkPhoneNum=function(t){var e=/^1\d{10}$/,i=e.test(t);return i},t}();egret.registerClass(StringTool,"StringTool");var HeadUI=function(t){function e(){t.call(this,"HeadUISkin"),this.imgX=10,this.imgY=17,this.imgWidth=45,this.imgHeight=45,this.imageLoader=new egret.ImageLoader}__extends(e,t);var i=(__define,e),n=i.prototype;return n.componentCreated=function(){t.prototype.componentCreated.call(this),this.nameLabel.text="",this.headImg=new egret.Bitmap,this.headImg.x=this.imgX,this.headImg.y=this.imgY,this.headImg.width=this.imgWidth,this.headImg.height=this.imgHeight,this.headImg.mask=this.headMask,this.addChild(this.headImg)},n.setNameLabel=function(t){this.nameLabel.text=t},n.loadImg=function(t){this.imageLoader.addEventListener(egret.IOErrorEvent.IO_ERROR,this.onLoadError,this),this.imageLoader.addEventListener(egret.Event.COMPLETE,this.loadCompleteHandler,this),this.imageLoader.load(t)},n.loadCompleteHandler=function(t){var e=t.currentTarget;this.headImg.bitmapData=e.data},n.onLoadError=function(){egret.log("加载头像错误")},n.isEmpty=function(){return""==this.nameLabel.text?!0:!1},n.clear=function(){this.nameLabel.text="",this.headImg.bitmapData=null,this.userID=""},e}(BaseUI);egret.registerClass(HeadUI,"HeadUI");var ItemScroller=function(t){function e(){t.call(this),this.curItemCount=0,this.delayScroll=100,this.addEventListener(eui.UIEvent.COMPLETE,this.onCreateComplete,this)}__extends(e,t);var i=(__define,e),n=i.prototype;return n.onCreateComplete=function(){this.removeEventListener(eui.UIEvent.COMPLETE,this.onCreateComplete,this),this.validateNow();var t=this.viewport.contentWidth-this.viewport.width;t>0?(this.isHScroller=!0,this.itemSize=this.viewport.width,this.itemNum=this.viewport.contentWidth/this.viewport.width):(this.isHScroller=!1,this.itemSize=this.viewport.height,this.itemNum=this.viewport.contentHeight/this.viewport.height),this.horizontalScrollBar.thumb.visible=!1,this.verticalScrollBar.thumb.visible=!1,this.throwSpeed=0,this.bounces=!1,this.addEventListener(eui.UIEvent.CHANGE_START,this.onChangeStartHandler,this),this.addEventListener(eui.UIEvent.CHANGE_END,this.onChangeEndHandler,this)},n.onChangeStartHandler=function(){this.isHScroller?this.touchStartPos=this.viewport.scrollH:this.touchStartPos=this.viewport.scrollV},n.onChangeEndHandler=function(){var t;t=this.isHScroller?this.viewport.scrollH-this.touchStartPos:this.viewport.scrollV-this.touchStartPos,t>0?this.scrollToNext():0>t&&this.scrollToLast()},n.scrollToNext=function(){var t=this.curItemCount;t<this.itemNum-1&&t++,this.scrollToItem(t)},n.scrollToLast=function(){var t=this.curItemCount;t>0&&t--,this.scrollToItem(t)},n.scrollToItem=function(t){t>=0&&t<this.itemNum&&(this.curItemCount=t,egret.Tween.removeTweens(this.viewport),this.isHScroller?egret.Tween.get(this.viewport).to({scrollH:t*this.itemSize,ease:egret.Ease.quadOut},this.delayScroll):egret.Tween.get(this.viewport).to({scrollV:t*this.itemSize,ease:egret.Ease.quadOut},this.delayScroll))},n.destroy=function(){},e}(eui.Scroller);egret.registerClass(ItemScroller,"ItemScroller");var SimpleMC=function(t){function e(e,i,n){var s=RES.getRes(e),r=RES.getRes(i),o=new egret.MovieClipDataFactory(r,s);t.call(this,o.generateMovieClipData(n))}__extends(e,t);var i=(__define,e);i.prototype;return e}(egret.MovieClip);egret.registerClass(SimpleMC,"SimpleMC");var GameScene=function(t){function e(){t.call(this,"GameSceneSkin")}__extends(e,t);var i=(__define,e),n=i.prototype;return n.componentCreated=function(){t.prototype.componentCreated.call(this)},n.onEnable=function(){},n.onRemove=function(){},e}(BaseScene);egret.registerClass(GameScene,"GameScene");var HomeScene=function(t){function e(){t.call(this,"HomeSceneSkin")}__extends(e,t);var i=(__define,e),n=i.prototype;return n.componentCreated=function(){t.prototype.componentCreated.call(this)},n.onEnable=function(){},n.onRemove=function(){},e}(BaseScene);egret.registerClass(HomeScene,"HomeScene");var PreloadScene=function(t){function e(){t.call(this,"PreloadSceneSkin")}__extends(e,t);var i=(__define,e),n=i.prototype;return n.componentCreated=function(){t.prototype.componentCreated.call(this)},n.setProgress=function(t){this.inited&&(this.progressLabel.text=t.toString()+"%")},e}(BaseScene);egret.registerClass(PreloadScene,"PreloadScene");var Main=function(t){function e(){t.apply(this,arguments)}__extends(e,t);var i=(__define,e),n=i.prototype;return n.createChildren=function(){t.prototype.createChildren.call(this);var e=new AssetAdapter;this.stage.registerImplementation("eui.IAssetAdapter",e),this.stage.registerImplementation("eui.IThemeAdapter",new ThemeAdapter),RES.addEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this.onConfigComplete,this),RES.loadConfig("resource/default.res.json","resource/")},n.onConfigComplete=function(t){RES.removeEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this.onConfigComplete,this);var e=new eui.Theme("resource/default.thm.json",this.stage);e.addEventListener(eui.UIEvent.COMPLETE,this.onThemeLoadComplete,this)},n.onThemeLoadComplete=function(){LoadManager.getInstance().loadGroup("preload",this,this.onPreloadComplete)},n.onPreloadComplete=function(t){this.preloadScene=new PreloadScene,this.addChild(this.preloadScene),LoadManager.getInstance().loadGroup("game",this,this.onGameComplete,this.onGameProgress)},n.onGameProgress=function(t){this.preloadScene.setProgress(Math.round(t.itemsLoaded/t.itemsTotal*100))},n.onGameComplete=function(){this.removeChild(this.preloadScene),this.preloadScene=null,GameManager.getInstance().startup(this)},e}(eui.UILayer);egret.registerClass(Main,"Main");var ThemeAdapter=function(){function t(){}var e=(__define,t),i=e.prototype;return i.getTheme=function(t,e,i,n){function s(t){e.call(n,t)}function r(e){e.resItem.url==t&&(RES.removeEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,r,null),i.call(n))}RES.addEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,r,null),RES.getResByUrl(t,s,this,RES.ResourceItem.TYPE_TEXT)},t}();egret.registerClass(ThemeAdapter,"ThemeAdapter",["eui.IThemeAdapter"]);