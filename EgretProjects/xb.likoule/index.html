<!DOCTYPE HTML>
<html>
<head>
    <meta charset="utf-8">
    <title>利口乐香草大作战</title>
    <meta name="viewport" content="width=device-width,initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no"/>
    <meta name="apple-mobile-web-app-capable" content="yes"/>
    <meta name="full-screen" content="true"/>
    <meta name="screen-orientation" content="portrait"/>
    <meta name="x5-fullscreen" content="true"/>
    <meta name="360-fullscreen" content="true"/>
    <style>
        html, body {
            -ms-touch-action: none;
            background: #333333;
            padding: 0;
            border: 0;
            margin: 0;
            height: 100%;
        }
    </style>

    <!--这个标签为通过egret提供的第三方库的方式生成的 javascript 文件。删除 modules_files 标签后，库文件加载列表将不会变化，请谨慎操作！-->
    <!--modules_files_start-->
	<script egret="lib" src="libs/modules/egret/egret.js" src-release="libs/modules/egret/egret.min.js"></script>
	<script egret="lib" src="libs/modules/egret/egret.web.js" src-release="libs/modules/egret/egret.web.min.js"></script>
	<script egret="lib" src="libs/modules/eui/eui.js" src-release="libs/modules/eui/eui.min.js"></script>
	<script egret="lib" src="libs/modules/res/res.js" src-release="libs/modules/res/res.min.js"></script>
	<script egret="lib" src="libs/modules/tween/tween.js" src-release="libs/modules/tween/tween.min.js"></script>
	<script egret="lib" src="libs/modules/game/game.js" src-release="libs/modules/game/game.min.js"></script>
	<script egret="lib" src="libs/modules/game/game.web.js" src-release="libs/modules/game/game.web.min.js"></script>
	<!--modules_files_end-->

    <!--这个标签为不通过egret提供的第三方库的方式使用的 javascript 文件，请将这些文件放在libs下，但不要放在modules下面。-->
    <!--other_libs_files_start-->
    <!--other_libs_files_end-->

    <!--这个标签会被替换为项目中所有的 javascript 文件。删除 game_files 标签后，项目文件加载列表将不会变化，请谨慎操作！-->
    <!--game_files_start-->
	<script egret="game" src="bin-debug/AssetAdapter.js"></script>
	<script egret="game" src="bin-debug/com/constant/GameConst.js"></script>
	<script egret="game" src="bin-debug/com/GameManager.js"></script>
	<script egret="game" src="bin-debug/com/utils/manager/LayerManager.js"></script>
	<script egret="game" src="bin-debug/com/utils/manager/LoadManager.js"></script>
	<script egret="game" src="bin-debug/com/utils/manager/MapManager.js"></script>
	<script egret="game" src="bin-debug/com/utils/scene/BaseScene.js"></script>
	<script egret="game" src="bin-debug/com/utils/scene/BaseUI.js"></script>
	<script egret="game" src="bin-debug/com/utils/tool/CImageLoader.js"></script>
	<script egret="game" src="bin-debug/com/utils/tool/DateTimer.js"></script>
	<script egret="game" src="bin-debug/com/utils/tool/HttpUtil.js"></script>
	<script egret="game" src="bin-debug/com/utils/tool/LabelFactory.js"></script>
	<script egret="game" src="bin-debug/com/utils/tool/ObjectPool.js"></script>
	<script egret="game" src="bin-debug/com/utils/tool/QRCode.js"></script>
	<script egret="game" src="bin-debug/com/utils/ui/SimpleMC.js"></script>
	<script egret="game" src="bin-debug/com/view/game/GameScene.js"></script>
	<script egret="game" src="bin-debug/com/view/game/ui/Ball.js"></script>
	<script egret="game" src="bin-debug/com/view/game/ui/BaseItem.js"></script>
	<script egret="game" src="bin-debug/com/view/game/ui/Bee.js"></script>
	<script egret="game" src="bin-debug/com/view/game/ui/Item2.js"></script>
	<script egret="game" src="bin-debug/com/view/game/ui/Item5.js"></script>
	<script egret="game" src="bin-debug/com/view/game/ui/Score2.js"></script>
	<script egret="game" src="bin-debug/com/view/game/ui/Score20.js"></script>
	<script egret="game" src="bin-debug/com/view/game/ui/Score5.js"></script>
	<script egret="game" src="bin-debug/com/view/home/GameBg.js"></script>
	<script egret="game" src="bin-debug/com/view/home/HomeScene.js"></script>
	<script egret="game" src="bin-debug/com/view/home/MyTeamPanel.js"></script>
	<script egret="game" src="bin-debug/com/view/home/PrizePanel.js"></script>
	<script egret="game" src="bin-debug/com/view/home/RankPanel.js"></script>
	<script egret="game" src="bin-debug/com/view/home/RulePanel.js"></script>
	<script egret="game" src="bin-debug/com/view/home/TeamForm.js"></script>
	<script egret="game" src="bin-debug/com/view/preload/PreloadScene.js"></script>
	<script egret="game" src="bin-debug/com/view/result/LuckForm.js"></script>
	<script egret="game" src="bin-debug/com/view/result/PrizeGrid.js"></script>
	<script egret="game" src="bin-debug/com/view/result/ResultScene.js"></script>
	<script egret="game" src="bin-debug/com/view/share/SharePanel.js"></script>
	<script egret="game" src="bin-debug/Main.js"></script>
	<script egret="game" src="bin-debug/ThemeAdapter.js"></script>
	<!--game_files_end-->
</head>
<body>

	
    <div id="gameDiv" style="margin: auto;width: 100%;height: 100%;" class="egret-player"
         data-entry-class="Main"
         data-orientation="landscape"
         data-scale-mode="fixedHeight"
         data-frame-rate="60"
         data-content-width="800"
         data-content-height="480"
         data-show-paint-rect="false"
         data-multi-fingered="2"
         data-show-fps="true" data-show-log="true"
         data-log-filter="" data-show-fps-style="x:0,y:0,size:30,textColor:0x00c200,bgAlpha:0.9">
    </div>
    
    <audio id="bgm" src="resource/assets/bgm.mp3" preload="load" loop="loop"/>

    
    <script>
    	//微信配置
    	/*
    	var weixinConfig = {
    		"debug":true,
    		"appId":'<?= $js_sign['appId']; ?>',
    		"timestamp":'<?= $js_sign['timestamp']; ?>',
    		"nonceStr":'<?= $js_sign['nonceStr']; ?>',
    		"signature":'<?= $js_sign['signature']; ?>',
    		"title":"",
    		"desc":"",
    		"link":"",
    		"imgUrl":""
    	}*/

    	var weixinConfig = {
    	"debug":false,
    	"appId":"",
    	"timestamp":"",
    	"nonceStr":"",
    	"signature":"",
    	"title":"",
    	"desc":"",
    	"link":"",
    	"imgUrl":""
    	}
    	
    	var validSigna = {
    		keyword:"<?= $signeArr['keyword']; ?>",
    		timestamp: "<?= $signeArr['timestamp']; ?>",
    		signature: "<?= $signeArr['signature']; ?>" 
    	};
    	
    	//验证码
    	var csrf = '<?= $_csrf; ?>';
    	
    	//是否接受邀请
    	var invitInfo = {
    		isInvit:0,  //是否被邀请
    		nickName:"",//发出邀请人的名字
    		teamName:"" //组建的队伍名字
    	};
    	
    	function wxshare(){}
    	
    	
    	var gameRuning = false;
    	if(window.orientation == 0){
	    	var screenWidth = document.body.clientWidth;
	    	var screenHeight = document.body.clientHeight;
	    	//var oimg = document.getElementById("oimg");
	    	//oimg.style.position = "absolute";
    		//oimg.style.display = "inline";
	    	//oimg.style.left = (screenWidth - 198)/2 + "px";
	    	//oimg.style.top = (screenHeight - 215)/2 + "px";
    	}else{
    		//运行游戏
    		startGame();
    	}
    	

    	//重力感应
    	window.onorientationchange = function(){
    		//游戏尚未运行，并且手机横置，则开始游戏
    		if(gameRuning == false && (window.orientation == 90 || window.orientation == -90)){
    				startGame();
    		}
    		//window["GM"].onOrientation(window.orientation);
    	}
    	
    	function startGame(){
	    	gameRuning = true;
	    	//var oimg = document.getElementById("oimg");
	    	//oimg.style.display = "none";
	    	egret.runEgret();
    	}
    	
    	function playBGM(){
    		var bgm = document.getElementById("bgm");
    		bgm.play();
    	}
    	
    	//playBGM();
    	
    	var body = document.body;
    	body.onclick = onBodyClick;
    	
    	function onBodyClick(){
    		console.log("click");
    		startGame();
    	}

    </script>
</body>
</html>












