var AssetAdapter=function(){function e(){}var t=(__define,e),n=t.prototype;return n.getAsset=function(e,t,n){function i(i){t.call(n,i,e)}if(RES.hasRes(e)){var s=RES.getRes(e);s?i(s):RES.getResAsync(e,i,this)}else RES.getResByUrl(e,i,this,RES.ResourceItem.TYPE_IMAGE)},e}();egret.registerClass(AssetAdapter,"AssetAdapter",["eui.IAssetAdapter"]);var GameConst=function(){function e(){}var t=(__define,e);t.prototype;return e}();egret.registerClass(GameConst,"GameConst");var GameManager=function(){function e(){this.homeScene=new HomeScene,this.gameScene=new GameScene,this.rulePanel=new RulePanel,this.prizePanel=new PrizePanel,this.rankPanle=new RankPanel,this.createTeamPanel=new CreateTeamPanel}var t=(__define,e),n=t.prototype;return n.startup=function(e){GameConst.config=RES.getRes("config_json"),GameConst.stage=e.stage,LayerManager.getInstance().initialize(e),LayerManager.getInstance().runScene(this.homeScene)},e.getInstance=function(){return null==this.instance&&(this.instance=new e),this.instance},e}();egret.registerClass(GameManager,"GameManager");var GestureDrag=function(){function e(e){this.target=e,this.start()}var t=(__define,e),n=t.prototype;return n.start=function(){this.target.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onTouchBegin,this)},n.stop=function(){this.target.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onTouchBegin,this),GameConst.stage.removeEventListener(egret.TouchEvent.TOUCH_MOVE,this.onTouchMove,this),GameConst.stage.removeEventListener(egret.TouchEvent.TOUCH_END,this.onTouchEnd,this)},n.onTouchBegin=function(e){this.lastX=e.stageX,this.lastY=e.stageY,GameConst.stage.addEventListener(egret.TouchEvent.TOUCH_MOVE,this.onTouchMove,this),GameConst.stage.addEventListener(egret.TouchEvent.TOUCH_END,this.onTouchEnd,this)},n.onTouchMove=function(e){this.target.x+=e.stageX-this.lastX,this.target.y+=e.stageY-this.lastY,this.lastX=e.stageX,this.lastY=e.stageY},n.onTouchEnd=function(e){GameConst.stage.removeEventListener(egret.TouchEvent.TOUCH_MOVE,this.onTouchMove,this),GameConst.stage.removeEventListener(egret.TouchEvent.TOUCH_END,this.onTouchEnd,this)},n.destroy=function(){this.stop(),this.target=null},e}();egret.registerClass(GestureDrag,"GestureDrag");var GesturePinch=function(){function e(e){this.touchIDList=new Array,this.initTouchPos={},this.curTouchPos={},this.target=e,this.start()}var t=(__define,e),n=t.prototype;return n.start=function(){this.target.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onTouchBegin,this),GameConst.stage.addEventListener(egret.TouchEvent.TOUCH_END,this.onTouchEnd,this)},n.stop=function(){this.target.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onTouchBegin,this),GameConst.stage.removeEventListener(egret.TouchEvent.TOUCH_END,this.onTouchEnd,this),this.target.removeEventListener(egret.TouchEvent.TOUCH_MOVE,this.onTouchMove,this)},n.onTouchBegin=function(e){this.touchIDLen=this.touchIDList.length,this.touchIDLen<2&&(this.touchIDList.push(e.touchPointID),this.initTouchPos[e.touchPointID]=new egret.Point(e.stageX,e.stageY),this.curTouchPos[e.touchPointID]=this.initTouchPos[e.touchPointID],this.touchIDLen=this.touchIDList.length),2==this.touchIDLen&&(this.target.addEventListener(egret.TouchEvent.TOUCH_MOVE,this.onTouchMove,this),this.initDist=egret.Point.distance(this.initTouchPos[this.touchIDList[0]],this.initTouchPos[this.touchIDList[1]]),this.startScale=this.target.scaleX,console.log("two fingers"))},n.onTouchMove=function(e){if(this.curPot=this.curTouchPos[e.touchPointID],this.curPot){this.curPot.x=e.stageX,this.curPot.y=e.stageY;var t=egret.Point.distance(this.curTouchPos[this.touchIDList[0]],this.curTouchPos[this.touchIDList[1]]),n=t/this.initDist;this.target.scaleX=n*this.startScale,this.target.scaleY=this.target.scaleX}},n.onTouchEnd=function(e){var t=this.touchIDList.indexOf(e.touchPointID);-1!=t&&this.touchIDList.splice(t,1),this.touchIDList.length<2&&this.target.removeEventListener(egret.TouchEvent.TOUCH_MOVE,this.onTouchMove,this)},n.destroy=function(){this.stop(),this.target=null},e}();egret.registerClass(GesturePinch,"GesturePinch");var LayerManager=function(){function e(){this.tweenTime=500}var t=(__define,e),n=t.prototype;return n.initialize=function(e){this.main=e,this.sceneLayer=new eui.Group,this.sceneLayer.percentWidth=100,this.sceneLayer.percentHeight=100,this.main.addChild(this.sceneLayer),this.popLayer=new eui.Group,this.popLayer.percentWidth=100,this.popLayer.percentHeight=100,this.popLayer.touchEnabled=!1,this.popLayer.touchThrough=!0,this.main.addChild(this.popLayer)},n.runScene=function(e,t){void 0===t&&(t=!1),null!=this.curScene&&this.curScene&&(this.sceneLayer.removeChild(this.curScene),this.curScene.onRemove(),t&&this.curScene.onDestroy()),this.curScene=e,this.sceneLayer.addChild(e),e.inited&&e.onEnable()},e.getInstance=function(){return null==this.instance&&(this.instance=new e),this.instance},e}();egret.registerClass(LayerManager,"LayerManager");var LoadManager=function(){function e(){this.loadComplete=new Object,this.loadError=new Object,this.loadProgress=new Object,this.thisObject=new Object}var t=(__define,e),n=t.prototype;return e.getInstance=function(){return null==this.instance&&(this.instance=new e),this.instance},n.loadGroup=function(e,t,n,i,s){void 0===n&&(n=null),void 0===i&&(i=null),void 0===s&&(s=null),this.loadComplete[e]=n,this.loadError[e]=s,this.loadProgress[e]=i,this.thisObject[e]=t,RES.addEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onResourceLoadComplete,this),RES.addEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,this.onResourceLoadError,this),RES.addEventListener(RES.ResourceEvent.GROUP_PROGRESS,this.onResourceProgress,this),RES.loadGroup(e)},n.onResourceLoadComplete=function(e){var t=e.groupName;RES.removeEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onResourceLoadComplete,this),RES.removeEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,this.onResourceLoadError,this),RES.removeEventListener(RES.ResourceEvent.GROUP_PROGRESS,this.onResourceProgress,this);var n=this.loadComplete[t];null!=n&&n.call(this.thisObject[t],e),this.clearCallBack(t)},n.onResourceLoadError=function(e){console.warn("Group:"+e.groupName+" has failed to load");var t=this.loadError[e.groupName];null!=t&&t.call(this.thisObject[e.groupName],e),this.clearCallBack(e.groupName)},n.onResourceProgress=function(e){var t=this.loadProgress[e.groupName];null!=t&&t.call(this.thisObject[e.groupName],e)},n.clearCallBack=function(e){this.loadComplete[e]=null,this.loadError[e]=null,this.loadProgress[e]=null},e}();egret.registerClass(LoadManager,"LoadManager");var MapManager=function(){function e(){this.rowMax=10,this.colMax=9,this.level=new Array,this.level1=[[0,1,0,0,1,0,0],[0,0,1,0,0,1,0],[0,0,1,0,0,0,0],[0,0,0,0,0,1,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]]}var t=(__define,e);t.prototype;return e.getInstance=function(){return null==this.instance&&(this.instance=new e),this.instance},e}();egret.registerClass(MapManager,"MapManager");var ArcMotion=function(){function e(e,t,n,i,s,r){void 0===s&&(s=1e3),void 0===r&&(r=!1),this.loop=!1,this.delay=1e3,this.target=e,this.p0=new egret.Point(t[0],t[1]),this.p1=new egret.Point(n[0],n[1]),this.p2=new egret.Point(i[0],i[1]),this.loop=r,this.delay=s}var t=__define,n=e,i=n.prototype;return i.play=function(){this.factor=0,egret.Tween.get(this,{loop:this.loop}).to({factor:1},this.delay)},i.stop=function(){egret.Tween.removeTweens(this)},t(i,"factor",function(){return 0},function(e){this.target.x=(1-e)*(1-e)*this.p0.x+2*e*(1-e)*this.p1.x+e*e*this.p2.x,this.target.y=(1-e)*(1-e)*this.p0.y+2*e*(1-e)*this.p1.y+e*e*this.p2.y}),i.destroy=function(){this.stop(),this.target=null},e}();egret.registerClass(ArcMotion,"ArcMotion");var CircleMotion=function(){function e(e,t,n){void 0===n&&(n=1e3/60),this.vr=.05,this.target=e,this.cos=Math.cos(this.vr),this.sin=Math.sin(this.vr),this.centerX=t[0],this.centerY=t[1],this.timer=new egret.Timer(n)}var t=(__define,e),n=t.prototype;return n.play=function(){this.timer.addEventListener(egret.TimerEvent.TIMER,this.onTimerHandler,this),this.timer.reset(),this.timer.start()},n.stop=function(){this.timer.stop(),this.timer.removeEventListener(egret.TimerEvent.TIMER,this.onTimerHandler,this)},n.onTimerHandler=function(){var e=this.target.x-this.centerX,t=this.target.y-this.centerY,n=this.cos*e-this.sin*t,i=this.cos*t+this.sin*e;this.target.x=this.centerX+n,this.target.y=this.centerY+i},n.destroy=function(){},e}();egret.registerClass(CircleMotion,"CircleMotion");var BaseScene=function(e){function t(t){e.call(this),this.inited=!1,this.percentWidth=100,this.percentHeight=100,this.touchEnabled=!1,this.addEventListener(eui.UIEvent.CREATION_COMPLETE,this.componentCreated,this),this.skinName=t}__extends(t,e);var n=(__define,t),i=n.prototype;return i.componentCreated=function(){this.removeEventListener(eui.UIEvent.CREATION_COMPLETE,this.componentCreated,this),this.inited=!0},i.onEnable=function(){},i.onRemove=function(){},i.onDestroy=function(){},t}(eui.Component);egret.registerClass(BaseScene,"BaseScene");var BaseUI=function(e){function t(t){e.call(this),this.inited=!1,this.addEventListener(eui.UIEvent.CREATION_COMPLETE,this.componentCreated,this),this.addEventListener(egret.Event.ADDED_TO_STAGE,this.onEnable,this),this.addEventListener(egret.Event.REMOVED_FROM_STAGE,this.onRemove,this),this.skinName=t}__extends(t,e);var n=(__define,t),i=n.prototype;return i.componentCreated=function(){this.removeEventListener(eui.UIEvent.CREATION_COMPLETE,this.componentCreated,this),this.inited=!0},i.onEnable=function(){},i.onRemove=function(){},i.hide=function(){this.parent&&this.parent.removeChild(this)},t}(eui.Component);egret.registerClass(BaseUI,"BaseUI");var ArrayTool=function(){function e(){}var t=(__define,e);t.prototype;return e.randomArr=function(e){for(var t,n,i,s=e.length;s;)n=s-1,i=Math.floor(Math.random()*s),s--,n!=i&&(t=e[n],e[n]=e[i],e[i]=t)},e.random2DArr=function(t){for(var n=[],i=t.length,s=t[0].length,r=0;i>r;r++)for(var o=0;s>o;o++)n.push(t[r][o]);e.randomArr(n);for(var r=0;i>r;r++)for(var o=0;s>o;o++)t[r][o]=n[r*s+o]},e.copy2DArr=function(e){for(var t=new Array,n=e.length,i=e[0].length,s=0;n>s;s++){var r=new Array;t.push(r);for(var o=0;i>o;o++)r.push(e[s][o])}return t},e.getObjectLen=function(e){var t=0;for(var n in e)t++;return t},e}();egret.registerClass(ArrayTool,"ArrayTool");var HttpUtil=function(){function e(){this.request=new egret.HttpRequest,this.request.responseType=egret.HttpResponseType.TEXT,this.request.addEventListener(egret.Event.COMPLETE,this.onPostComplete,this),this.request.addEventListener(egret.IOErrorEvent.IO_ERROR,this.onPostIOError,this)}var t=(__define,e),n=t.prototype;return n.send=function(e,t,n,i){this.thisObject=i,this.request.open(e,t),this.request.setRequestHeader("Content-type","application/x-www-form-urlencoded"),""!=n?this.request.send(n):this.request.send()},n.onPostComplete=function(e){this.completeHandler&&this.completeHandler.call(this.thisObject,this.request.response)},n.onPostIOError=function(e){this.errorHandler&&this.errorHandler.call(this.thisObject,e)},e}();egret.registerClass(HttpUtil,"HttpUtil");var NumberTool=function(){function e(){}var t=(__define,e);t.prototype;return e.getRandomInt=function(e,t){return Math.round(Math.random()*(t-e))+e},e}();egret.registerClass(NumberTool,"NumberTool");var ObjectPool=function(){function e(e){this.className=e,this.list=[]}var t=(__define,e),n=t.prototype;return n.getObject=function(){if(this.list.length>0)return this.list.shift();var e=egret.getDefinitionByName(this.className);return new e},n.returnObject=function(e){this.list.push(e)},e.getPool=function(t,n){if(void 0===n&&(n=0),!e.pool[t]&&(e.pool[t]=new e(t),0!=n))for(var i=egret.getDefinitionByName(t),s=e.pool[t],r=0;n>r;r++)s.returnObject(new i);return e.pool[t]},e.pool={},e}();egret.registerClass(ObjectPool,"ObjectPool");var QRCodeLoader=function(e){function t(){e.apply(this,arguments),this.logoUrl=""}__extends(t,e);var n=(__define,t),i=n.prototype;return i.load=function(e,t,n,i){void 0===i&&(i=""),this.qrcodeWidth=t,this.qrcodeHeight=n,this.logoUrl=i;var s=new egret.ImageLoader;s.addEventListener(egret.Event.COMPLETE,this.onQRCodeComplete,this),s.addEventListener(egret.IOErrorEvent.IO_ERROR,this.onQRCodeError,this),s.load(e)},i.onQRCodeError=function(){console.log("加载二维码错误")},i.onQRCodeComplete=function(e){var t=e.currentTarget,n=new egret.Bitmap(t.data);if(n.width=this.qrcodeWidth,n.height=this.qrcodeHeight,this.addChild(n),""!=this.logoUrl){var t=new egret.ImageLoader;t.addEventListener(egret.Event.COMPLETE,this.onlogoComplete,this),t.load(this.logoUrl)}},i.onlogoComplete=function(e){var t=e.currentTarget,n=new egret.Bitmap(t.data);n.width=this.qrcodeWidth/4,n.height=this.qrcodeHeight/4,n.x=(this.qrcodeWidth-n.width)/2,n.y=(this.qrcodeHeight-n.height)/2,this.addChild(n)},i.destroy=function(){for(var e=this.numChildren,t=e-1;t>=0;t--){var n=this.getChildAt(t);n.parent&&n.parent.removeChild(n)}},t}(egret.DisplayObjectContainer);egret.registerClass(QRCodeLoader,"QRCodeLoader");var ShakeTool=function(){function e(){this.count=0,this.timer=new egret.Timer(1e3)}var t=(__define,e),n=t.prototype;return n.shakeObj=function(e,t,n,i){this.target=e,this.initX=e.x,this.initY=e.y,this.maxDis=i,this.count=t*n,this.rate=n,this.timer.delay=1e3/n,this.timer.repeatCount=this.count,this.timer.addEventListener(egret.TimerEvent.TIMER,this.shaking,this),this.timer.addEventListener(egret.TimerEvent.TIMER_COMPLETE,this.shakeComplete,this),this.timer.reset(),this.timer.start()},n.shaking=function(){egret.Tween.removeTweens(this),this.target.x=this.initX-this.maxDis+Math.random()*this.maxDis*2,this.target.y=this.initY-this.maxDis+Math.random()*this.maxDis*2,egret.Tween.get(this.target).to({x:this.initX,y:this.initY},999/this.rate)},n.shakeComplete=function(){egret.Tween.removeTweens(this),this.target.x=this.initX,this.target.y=this.initY,this.timer.removeEventListener(egret.TimerEvent.TIMER,this.shaking,this),this.timer.removeEventListener(egret.TimerEvent.TIMER_COMPLETE,this.shakeComplete,this)},e}();egret.registerClass(ShakeTool,"ShakeTool");var StringTool=function(){function e(){}var t=(__define,e);t.prototype;return e.getTimeString=function(e){var t="";return t=10>e?"0"+e:e.toString()},e}();egret.registerClass(StringTool,"StringTool");var SimpleMC=function(e){function t(t,n,i){var s=RES.getRes(t),r=RES.getRes(n),o=new egret.MovieClipDataFactory(r,s);e.call(this,o.generateMovieClipData(i))}__extends(t,e);var n=(__define,t);n.prototype;return t}(egret.MovieClip);egret.registerClass(SimpleMC,"SimpleMC");var Bee=function(e){function t(){e.call(this,"bee_png","bee_json","bee"),this.direction=0,this.speedX=10,this.speedY=5,this.anchorOffsetX=this.width/2,this.anchorOffsetY=this.height/2+30}__extends(t,e);var n=(__define,t);n.prototype;return t}(SimpleMC);egret.registerClass(Bee,"Bee");var GameScene=function(e){function t(){e.call(this,"GameSceneSkin"),this.bee=new Bee,this.timeLimit=30}__extends(t,e);var n=(__define,t),i=n.prototype;return i.componentCreated=function(){e.prototype.componentCreated.call(this),this.stageWidth=GameConst.stage.stageWidth,this.stageHeight=GameConst.stage.stageHeight},i.onEnable=function(){this.reset(),this.configListeners()},i.onRemove=function(){this.bee.stop()},i.configListeners=function(){this.controlBtn.addEventListener(egret.TouchEvent.TOUCH_MOVE,this.onControlTouch,this),this.addEventListener(egret.Event.ENTER_FRAME,this.onEnterFrame,this)},i.deConfigListeners=function(){this.controlBtn.removeEventListener(egret.TouchEvent.TOUCH_MOVE,this.onControlTouch,this),this.removeEventListener(egret.Event.ENTER_FRAME,this.onEnterFrame,this)},i.onEnterFrame=function(){this.moveBee(),this.gameBg.render()},i.reset=function(){this.score=0,this.scoreLabel.text=this.score+"",this.curTime=30,this.timeLabel.text=this.curTime+"s",this.bee.play(-1),this.bee.x=this.controlBtn.x+this.controlBtn.width+this.bee.width,this.bee.y=(this.stageHeight-this.bee.height)/2,this.addChild(this.bee),this.gameBg.reset()},i.onControlTouch=function(e){this.curFingerPos=e.stageY,this.bee.y>e.stageY?this.bee.direction=-1:this.bee.direction=1},i.moveBee=function(){Math.abs(this.bee.y-this.curFingerPos)>this.bee.speedY&&(this.bee.y+=this.bee.direction*this.bee.speedY)},t}(BaseScene);egret.registerClass(GameScene,"GameScene");var HomeScene=function(e){function t(){e.call(this,"HomeSceneSkin")}__extends(t,e);var n=(__define,t),i=n.prototype;return i.componentCreated=function(){e.prototype.componentCreated.call(this),this.invitFailLabel.text=GameConst.config.invitFail},i.onEnable=function(){this.acceptGroup.visible=!1,this.invitFailGroup.visible=!1,this.beginGroup.visible=!1,this.rankGroup.visible=!0,this.beginGroup.visible=!0,this.configListeners()},i.onRemove=function(){},i.configListeners=function(){this.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchTap,this)},i.deConfigListeners=function(){this.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchTap,this)},i.onTouchTap=function(e){switch(e.target){case this.acceptBtn:break;case this.ruleBtn:case this.ruleBtn2:this.addChild(GameManager.getInstance().rulePanel);break;case this.closeBtn:break;case this.beginBtn:LayerManager.getInstance().runScene(GameManager.getInstance().gameScene);break;case this.teamBtn:this.addChild(GameManager.getInstance().createTeamPanel);break;case this.rankBtn:this.addChild(GameManager.getInstance().rankPanle);break;case this.prizeBtn:this.addChild(GameManager.getInstance().prizePanel)}},t}(BaseScene);egret.registerClass(HomeScene,"HomeScene");var PreloadScene=function(e){function t(){e.call(this,"PreloadSceneSkin")}__extends(t,e);var n=(__define,t),i=n.prototype;return i.componentCreated=function(){e.prototype.componentCreated.call(this)},i.setProgress=function(e){this.inited&&(this.progressLabel.text=e.toString()+"%")},t}(BaseScene);egret.registerClass(PreloadScene,"PreloadScene");var CreateTeamPanel=function(e){function t(){e.call(this,"CreateTeamSkin")}__extends(t,e);var n=(__define,t),i=n.prototype;return i.componentCreated=function(){e.prototype.componentCreated.call(this)},i.onEnable=function(){this.nameLabel.text="",this.telLabel.text="",this.addressLabel.text="",this.closeBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onCloseBtnTouch,this),this.submitBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onSubmitBtnTouch,this)},i.onRemove=function(){this.closeBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onCloseBtnTouch,this),this.submitBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onSubmitBtnTouch,this)},i.onCloseBtnTouch=function(){this.hide()},i.onSubmitBtnTouch=function(){},t}(BaseUI);egret.registerClass(CreateTeamPanel,"CreateTeamPanel");var GameBg=function(e){function t(){e.call(this,"GameBgSkin"),this.skySpeed=-1,this.hillSpeed=-3,this.grassSpeed=-5}__extends(t,e);var n=(__define,t),i=n.prototype;return i.componentCreated=function(){e.prototype.componentCreated.call(this)},i.render=function(){this.sky.x+=this.skySpeed,this.hill.x+=this.hillSpeed,this.grass.x+=this.grassSpeed,this.sky.x<-this.sky.width?this.sky.x=this.sky0.x+this.sky0.width:this.sky0.x<-this.sky0.width,this.hill.x<-this.hill.width?this.hill.x=this.hill0.x+this.hill0.width:this.hill0.x<-this.hill0.width,this.grass.x<-this.grass.width?this.grass.x=this.grass0.x+this.grass0.width:this.grass0.x<-this.grass0.width},i.reset=function(){this.sky.x=0,this.hill.x=0,this.grass.x=0,this.sky0.x=this.sky.width,this.hill0.x=this.hill.width,this.grass0.x=this.grass.width},t}(BaseUI);egret.registerClass(GameBg,"GameBg");var PrizePanel=function(e){function t(){e.call(this,"PrizePanelSkin")}__extends(t,e);var n=(__define,t),i=n.prototype;return i.componentCreated=function(){e.prototype.componentCreated.call(this)},i.onEnable=function(){this.closeBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onCloseBtnTouch,this),this.leaderBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onLeaderBtnTouch,this)},i.onRemove=function(){this.closeBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onCloseBtnTouch,this),this.leaderBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onLeaderBtnTouch,this)},i.onCloseBtnTouch=function(){this.hide()},i.onLeaderBtnTouch=function(){},t}(BaseUI);egret.registerClass(PrizePanel,"PrizePanel");var RankPanel=function(e){function t(){e.call(this,"RankPanelSkin")}__extends(t,e);var n=(__define,t),i=n.prototype;return i.componentCreated=function(){e.prototype.componentCreated.call(this)},i.onEnable=function(){this.closeBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onCloseBtnTouch,this)},i.onRemove=function(){this.closeBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onCloseBtnTouch,this)},i.onCloseBtnTouch=function(){this.hide()},t}(BaseUI);egret.registerClass(RankPanel,"RankPanel");var RulePanel=function(e){function t(){e.call(this,"RulePanelSkin")}__extends(t,e);var n=(__define,t),i=n.prototype;return i.componentCreated=function(){e.prototype.componentCreated.call(this),this.label0.text=GameConst.config.rule0,this.label1.text=GameConst.config.rule1,this.label2.text=GameConst.config.rule2,this.label2.height=(this.label2.size+this.label2.lineSpacing)*this.label2.maxScrollV,this.scroller.scrollPolicyV=eui.ScrollPolicy.AUTO,this.scroller.verticalScrollBar.autoVisibility=!1},i.onEnable=function(){this.playArrowAnim(),this.knowBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onKnowBtnTouch,this)},i.onRemove=function(){this.stopArrowAnim(),this.knowBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onKnowBtnTouch,this)},i.onKnowBtnTouch=function(){this.hide()},i.playArrowAnim=function(){this.initArrowY=this.arrow.y,egret.Tween.get(this.arrow,{loop:!0}).to({y:this.initArrowY-10},300).to({y:this.initArrowY},300)},i.stopArrowAnim=function(){egret.Tween.removeTweens(this.arrow),this.arrow.y=this.initArrowY},t}(BaseUI);egret.registerClass(RulePanel,"RulePanel");var Main=function(e){function t(){e.apply(this,arguments)}__extends(t,e);var n=(__define,t),i=n.prototype;return i.createChildren=function(){e.prototype.createChildren.call(this);var t=new AssetAdapter;this.stage.registerImplementation("eui.IAssetAdapter",t),this.stage.registerImplementation("eui.IThemeAdapter",new ThemeAdapter),RES.addEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this.onConfigComplete,this),RES.loadConfig("resource/default.res.json","resource/")},i.onConfigComplete=function(e){RES.removeEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this.onConfigComplete,this);var t=new eui.Theme("resource/default.thm.json",this.stage);t.addEventListener(eui.UIEvent.COMPLETE,this.onThemeLoadComplete,this)},i.onThemeLoadComplete=function(){LoadManager.getInstance().loadGroup("home",this,this.onPreloadComplete)},i.onPreloadComplete=function(e){this.preloadScene=new PreloadScene,this.addChild(this.preloadScene),LoadManager.getInstance().loadGroup("game",this,this.onGameComplete,this.onGameProgress)},i.onGameProgress=function(e){this.preloadScene.setProgress(Math.round(e.itemsLoaded/e.itemsTotal*100))},i.onGameComplete=function(){this.removeChild(this.preloadScene),this.preloadScene=null,GameManager.getInstance().startup(this)},t}(eui.UILayer);egret.registerClass(Main,"Main");var ThemeAdapter=function(){function e(){}var t=(__define,e),n=t.prototype;return n.getTheme=function(e,t,n,i){function s(e){t.call(i,e)}function r(t){t.resItem.url==e&&(RES.removeEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,r,null),n.call(i))}RES.addEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,r,null),RES.getResByUrl(e,s,this,RES.ResourceItem.TYPE_TEXT)},e}();egret.registerClass(ThemeAdapter,"ThemeAdapter",["eui.IThemeAdapter"]);